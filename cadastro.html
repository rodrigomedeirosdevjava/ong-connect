<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cadastre-se como volunt√°rio, doador ou organiza√ß√£o">
    <title>Cadastro - ONG Connect</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
<header class="main-header">
    <div class="container">
        <div class="logo">
            <a href="index.html">
                <img src="images/logo.png" alt="ONG Connect - Logo" width="150" height="50">
            </a>
        </div>

        <button class="menu-toggle" aria-label="Abrir menu" aria-expanded="false">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>

        <nav class="main-nav" id="main-nav" aria-label="Navega√ß√£o principal">
            <ul>
                <li class="nav-item">
                    <a href="index.html">In√≠cio</a>
                    <div class="dropdown-menu">
                        <a href="index.html#about-title" class="dropdown-item">Sobre N√≥s</a>
                        <a href="index.html#contact-title" class="dropdown-item">Contato</a>
                        <a href="index.html#stats-title" class="dropdown-item">Estat√≠sticas</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="projetos.html">Projetos</a>
                    <div class="dropdown-menu">
                        <a href="projetos.html#volunteering-title" class="dropdown-item">Voluntariado</a>
                        <a href="projetos.html#donations-title" class="dropdown-item">Doa√ß√µes</a>
                        <a href="projetos.html" class="dropdown-item">Todos os Projetos</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="cadastro.html" aria-current="page">Cadastre-se</a>
                    <div class="dropdown-menu">
                        <a href="#volunteer" class="dropdown-item" onclick="selectType('volunteer')">üë• Volunt√°rio</a>
                        <a href="#donor" class="dropdown-item" onclick="selectType('donor')">üíù Doador</a>
                        <a href="#ong" class="dropdown-item" onclick="selectType('ong')">üè¢ Organiza√ß√£o</a>
                    </div>
                </li>
            </ul>
        </nav>
    </div>
</header>

<!-- Alert de Cadastro -->
<div class="alert alert-info">
    <strong>üìù Cadastro R√°pido!</strong> Preencha seus dados e escolha como quer contribuir.
</div>

<main>
    <section class="registration-hero" aria-labelledby="registration-title">
        <div class="container">
            <h1 id="registration-title">Fa√ßa Parte da Mudan√ßa</h1>
            <p>Escolha como voc√™ quer contribuir e cadastre-se em nossa plataforma</p>
        </div>
    </section>

    <section class="registration-types" aria-labelledby="types-title">
        <div class="container">
            <h2 id="types-title" class="sr-only">Tipos de Cadastro</h2>
            <div class="type-selector">
                <button class="type-btn active" data-type="volunteer">
                    <span class="type-icon">üë•</span>
                    Volunt√°rio
                </button>
                <button class="type-btn" data-type="donor">
                    <span class="type-icon">üíù</span>
                    Doador
                </button>
                <button class="type-btn" data-type="ong">
                    <span class="type-icon">üè¢</span>
                    Organiza√ß√£o
                </button>
            </div>
        </div>
    </section>

    <section class="registration-form" aria-labelledby="form-title">
        <div class="container">
            <h2 id="form-title" class="sr-only">Formul√°rio de Cadastro</h2>
            <form id="registrationForm" novalidate>
                <fieldset class="form-section">
                    <legend>Informa√ß√µes Pessoais</legend>

                    <div class="form-group">
                        <label for="fullName">Nome Completo *</label>
                        <input type="text" id="fullName" name="fullName" required
                               minlength="3" maxlength="100"
                               placeholder="Digite seu nome completo">
                        <span class="error-message" id="fullNameError"></span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">E-mail *</label>
                            <input type="email" id="email" name="email" required
                                   placeholder="seu@email.com">
                            <span class="error-message" id="emailError"></span>
                        </div>

                        <div class="form-group">
                            <label for="phone">Telefone *</label>
                            <input type="tel" id="phone" name="phone" required
                                   pattern="\(\d{2}\)\s\d{4,5}-\d{4}"
                                   placeholder="(11) 99999-9999">
                            <span class="error-message" id="phoneError"></span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="cpf">CPF *</label>
                            <input type="text" id="cpf" name="cpf" required
                                   pattern="\d{3}\.\d{3}\.\d{3}-\d{2}"
                                   placeholder="000.000.000-00">
                            <span class="error-message" id="cpfError"></span>
                        </div>

                        <div class="form-group">
                            <label for="birthDate">Data de Nascimento *</label>
                            <input type="date" id="birthDate" name="birthDate" required
                                   max="2006-12-31">
                            <span class="error-message" id="birthDateError"></span>
                        </div>
                    </div>
                </fieldset>

                <fieldset class="form-section">
                    <legend>Endere√ßo</legend>

                    <div class="form-group">
                        <label for="cep">CEP *</label>
                        <input type="text" id="cep" name="cep" required
                               pattern="\d{5}-\d{3}"
                               placeholder="00000-000">
                        <span class="error-message" id="cepError"></span>
                    </div>

                    <div class="form-group">
                        <label for="address">Endere√ßo *</label>
                        <input type="text" id="address" name="address" required
                               placeholder="Rua, n√∫mero, complemento">
                        <span class="error-message" id="addressError"></span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="city">Cidade *</label>
                            <input type="text" id="city" name="city" required
                                   placeholder="Nome da cidade">
                            <span class="error-message" id="cityError"></span>
                        </div>

                        <div class="form-group">
                            <label for="state">Estado *</label>
                            <select id="state" name="state" required>
                                <option value="">Selecione...</option>
                                <option value="AC">Acre</option>
                                <option value="AL">Alagoas</option>
                                <option value="AP">Amap√°</option>
                                <option value="AM">Amazonas</option>
                                <option value="BA">Bahia</option>
                                <option value="CE">Cear√°</option>
                                <option value="DF">Distrito Federal</option>
                                <option value="ES">Esp√≠rito Santo</option>
                                <option value="GO">Goi√°s</option>
                                <option value="MA">Maranh√£o</option>
                                <option value="MT">Mato Grosso</option>
                                <option value="MS">Mato Grosso do Sul</option>
                                <option value="MG">Minas Gerais</option>
                                <option value="PA">Par√°</option>
                                <option value="PB">Para√≠ba</option>
                                <option value="PR">Paran√°</option>
                                <option value="PE">Pernambuco</option>
                                <option value="PI">Piau√≠</option>
                                <option value="RJ">Rio de Janeiro</option>
                                <option value="RN">Rio Grande do Norte</option>
                                <option value="RS">Rio Grande do Sul</option>
                                <option value="RO">Rond√¥nia</option>
                                <option value="RR">Roraima</option>
                                <option value="SC">Santa Catarina</option>
                                <option value="SP">S√£o Paulo</option>
                                <option value="SE">Sergipe</option>
                                <option value="TO">Tocantins</option>
                            </select>
                            <span class="error-message" id="stateError"></span>
                        </div>
                    </div>
                </fieldset>

                <fieldset class="form-section" id="volunteerFields">
                    <legend>Informa√ß√µes de Voluntariado</legend>

                    <div class="form-group">
                        <label for="availability">Disponibilidade *</label>
                        <select id="availability" name="availability" required>
                            <option value="">Selecione...</option>
                            <option value="weekends">Finais de semana</option>
                            <option value="weekdays">Dias de semana</option>
                            <option value="both">Ambos</option>
                            <option value="flexible">Hor√°rio flex√≠vel</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="skills">Habilidades e Interesses</label>
                        <div class="badge-container">
                            <span class="badge badge-primary selectable" data-skill="educacao">üìö Educa√ß√£o</span>
                            <span class="badge badge-secondary selectable" data-skill="saude">üè• Sa√∫de</span>
                            <span class="badge badge-success selectable" data-skill="meio-ambiente">üå± Meio Ambiente</span>
                            <span class="badge badge-warning selectable" data-skill="tecnologia">üíª Tecnologia</span>
                            <span class="badge badge-error selectable" data-skill="administrativo">üìä Administrativo</span>
                            <span class="badge badge-info selectable" data-skill="artes">üé® Artes</span>
                        </div>
                        <div class="skills-counter empty" id="skillsCounter">
                            Nenhuma habilidade selecionada
                        </div>
                        <textarea id="skills" name="skills"
                                  placeholder="Selecione suas habilidades acima ou digite manualmente..."
                                  rows="4"></textarea>
                        <!-- Bot√£o ser√° adicionado automaticamente via JavaScript -->
                        <div class="form-hint">
                            Clique nas habilidades para selecionar/deselecionar
                        </div>
                    </div>
                </fieldset>

                <fieldset class="form-section" id="donorFields" style="display: none;">
                    <legend>Informa√ß√µes de Doa√ß√£o</legend>

                    <div class="form-group">
                        <label for="donationType">Tipo de Doa√ß√£o Preferida *</label>
                        <select id="donationType" name="donationType" required>
                            <option value="">Selecione...</option>
                            <option value="online">Online (PIX/Cart√£o)</option>
                            <option value="materials">Materiais</option>
                            <option value="recurring">Recorrente</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="donationFrequency">Frequ√™ncia de Doa√ß√£o</label>
                        <select id="donationFrequency" name="donationFrequency">
                            <option value="">Selecione...</option>
                            <option value="once">√önica</option>
                            <option value="monthly">Mensal</option>
                            <option value="quarterly">Trimestral</option>
                            <option value="yearly">Anual</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="preferredAmount">Valor Preferido (R$)</label>
                        <input type="number" id="preferredAmount" name="preferredAmount"
                               min="10" step="10"
                               placeholder="Ex: 50">
                    </div>
                </fieldset>

                <fieldset class="form-section" id="ongFields" style="display: none;">
                    <legend>Informa√ß√µes da Organiza√ß√£o</legend>

                    <div class="form-group">
                        <label for="ongName">Nome da Organiza√ß√£o *</label>
                        <input type="text" id="ongName" name="ongName" required
                               placeholder="Nome oficial da organiza√ß√£o">
                    </div>

                    <div class="form-group">
                        <label for="cnpj">CNPJ *</label>
                        <input type="text" id="cnpj" name="cnpj" required
                               pattern="\d{2}\.\d{3}\.\d{3}/\d{4}-\d{2}"
                               placeholder="00.000.000/0000-00">
                    </div>

                    <div class="form-group">
                        <label for="organizationType">Tipo de Organiza√ß√£o *</label>
                        <select id="organizationType" name="organizationType" required>
                            <option value="">Selecione...</option>
                            <option value="ong">ONG</option>
                            <option value="oscip">OSCIP</option>
                            <option value="instituto">Instituto</option>
                            <option value="fundacao">Funda√ß√£o</option>
                            <option value="associacao">Associa√ß√£o</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="mission">Miss√£o da Organiza√ß√£o *</label>
                        <textarea id="mission" name="mission" required
                                  placeholder="Descreva a miss√£o e objetivos da organiza√ß√£o..."
                                  rows="4"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="website">Site (opcional)</label>
                        <input type="url" id="website" name="website"
                               placeholder="https://exemplo.org">
                    </div>
                </fieldset>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Cadastrar</button>
                    <button type="reset" class="btn btn-secondary">Limpar Formul√°rio</button>
                </div>
            </form>
        </div>
    </section>
</main>

<!-- Modal de Confirma√ß√£o -->
<div class="modal" id="successModal">
    <div class="modal-content">
        <button class="modal-close">&times;</button>
        <div class="success-icon">‚úÖ</div>
        <h2 class="modal-title">Cadastro Realizado com Sucesso!</h2>
        <p class="modal-text">Seu cadastro foi realizado com sucesso. Em breve entraremos em contato para dar continuidade ao processo.</p>
        <div class="modal-actions">
            <button class="btn btn-primary" onclick="closeModal('successModal'); window.location.href='index.html';">Voltar ao In√≠cio</button>
            <button class="btn btn-secondary" onclick="closeModal('successModal')">Fazer Outro Cadastro</button>
        </div>
    </div>
</div>

<!-- Modal de Ajuda -->
<div class="modal" id="helpModal">
    <div class="modal-content">
        <button class="modal-close">&times;</button>
        <h2 class="modal-title">Precisa de Ajuda?</h2>
        <p class="modal-text">Estamos aqui para ajudar voc√™ no processo de cadastro. Entre em contato conosco:</p>
        <div class="contact-info">
            <p><strong>üìû Telefone:</strong> (11) 99999-9999</p>
            <p><strong>‚úâÔ∏è E-mail:</strong> suporte@ongconnect.org.br</p>
            <p><strong>üí¨ WhatsApp:</strong> (11) 98888-8888</p>
        </div>
        <div class="modal-actions">
            <button class="btn btn-primary" onclick="closeModal('helpModal')">Entendido</button>
        </div>
    </div>
</div>

<footer class="main-footer">
    <div class="container">
        <p>&copy; 2025 ONG Connect. Todos os direitos reservados.</p>
        <p>Desenvolvido com ‚ù§Ô∏è para transformar vidas</p>
        <button class="btn btn-secondary" onclick="showModal('helpModal')" style="margin-top: 1rem;">
            ü§î Precisa de Ajuda?
        </button>
    </div>
</footer>

<script src="js/form-validation.js"></script>
<script src="js/main.js"></script>
<script>
    // Sistema de sele√ß√£o de habilidades
    let selectedSkills = new Set();

    function initSkillsSelection() {
        const skillBadges = document.querySelectorAll('.selectable');
        const skillsTextarea = document.getElementById('skills');

        skillBadges.forEach(badge => {
            badge.addEventListener('click', function() {
                const skill = this.getAttribute('data-skill');
                const skillText = this.textContent.trim();

                if (selectedSkills.has(skill)) {
                    // Remove a skill se j√° estiver selecionada
                    selectedSkills.delete(skill);
                    this.classList.remove('selected');
                } else {
                    // Adiciona a skill se n√£o estiver selecionada
                    selectedSkills.add(skill);
                    this.classList.add('selected');
                }

                updateSkillsTextarea();
                updateSkillsCounter();
            });
        });

        // Limpar skills quando o textarea for editado manualmente
        if (skillsTextarea) {
            skillsTextarea.addEventListener('input', function() {
                // Se o usu√°rio editar manualmente, limpa as skills selecionadas
                const currentText = this.value.trim();
                const selectedText = Array.from(selectedSkills).map(skill => {
                    const badge = document.querySelector(`[data-skill="${skill}"]`);
                    return badge ? badge.textContent.trim() : '';
                }).filter(Boolean).join(', ');

                if (currentText !== selectedText) {
                    clearSelectedSkills();
                }
            });
        }

        // Observar o evento de reset do formul√°rio
        const form = document.getElementById('registrationForm');
        if (form) {
            form.addEventListener('reset', function() {
                // Pequeno delay para garantir que o reset aconteceu
                setTimeout(() => {
                    clearSelectedSkills();
                }, 10);
            });
        }
    }

    function updateSkillsTextarea() {
        const skillsTextarea = document.getElementById('skills');
        if (skillsTextarea) {
            const skillTexts = Array.from(selectedSkills).map(skill => {
                const badge = document.querySelector(`[data-skill="${skill}"]`);
                return badge ? badge.textContent.trim() : '';
            }).filter(Boolean);

            skillsTextarea.value = skillTexts.join(', ');
        }
    }

    function updateSkillsCounter() {
        const counter = document.getElementById('skillsCounter');
        if (counter) {
            const count = selectedSkills.size;
            if (count === 0) {
                counter.textContent = 'Nenhuma habilidade selecionada';
                counter.classList.remove('highlight');
            } else if (count === 1) {
                counter.textContent = '1 habilidade selecionada';
                counter.classList.add('highlight');
            } else {
                counter.textContent = `${count} habilidades selecionadas`;
                counter.classList.add('highlight');
            }
        }
    }

    function clearSelectedSkills() {
        selectedSkills.clear();

        // Remove a classe selected de todas as badges
        document.querySelectorAll('.selectable.selected').forEach(badge => {
            badge.classList.remove('selected');
        });

        // Atualiza o textarea
        updateSkillsTextarea();

        // Atualiza o contador
        updateSkillsCounter();
    }

    // Fun√ß√£o para selecionar tipo via dropdown
    function selectType(type) {
        const buttons = document.querySelectorAll('.type-btn');
        buttons.forEach(btn => {
            if (btn.getAttribute('data-type') === type) {
                btn.click();
            }
        });
    }

    // Sistema de Modal
    function showModal(modalId) {
        document.getElementById(modalId).classList.add('active');
        document.body.classList.add('modal-open');
    }

    function closeModal(modalId) {
        document.getElementById(modalId).classList.remove('active');
        document.body.classList.remove('modal-open');
    }

    // Fechar modal ao clicar fora
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('modal')) {
            closeModal(e.target.id);
        }
    });

    // Fechar modal com ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            const openModal = document.querySelector('.modal.active');
            if (openModal) {
                closeModal(openModal.id);
            }
        }
    });

    // Simular envio do formul√°rio
    document.getElementById('registrationForm').addEventListener('submit', function(e) {
        e.preventDefault();

        // Valida√ß√£o adicional
        let isValid = true;
        const requiredFields = this.querySelectorAll('[required]');

        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                isValid = false;
                field.style.borderColor = 'var(--error-color)';
            }
        });

        if (isValid) {
            showModal('successModal');

            // Simular delay de processamento
            setTimeout(() => {
                this.reset();
                // J√° ser√° limpo pelo evento de reset
            }, 1000);
        } else {
            alert('Por favor, preencha todos os campos obrigat√≥rios.');
        }
    });

    // Bot√£o de limpar habilidades individual
    function createClearSkillsButton() {
        const skillsContainer = document.querySelector('.form-group:has(#skills)');
        if (skillsContainer && !document.getElementById('clearSkillsBtn')) {
            const clearButton = document.createElement('button');
            clearButton.type = 'button';
            clearButton.id = 'clearSkillsBtn';
            clearButton.className = 'btn btn-secondary';
            clearButton.textContent = 'Limpar Habilidades';
            clearButton.style.marginTop = '0.5rem';
            clearButton.style.fontSize = '0.875rem';
            clearButton.style.padding = '0.25rem 0.75rem';

            clearButton.addEventListener('click', function() {
                clearSelectedSkills();
            });

            skillsContainer.appendChild(clearButton);
        }
    }

    // Tooltip para campos do formul√°rio
    document.querySelectorAll('label').forEach(label => {
        const field = document.getElementById(label.getAttribute('for'));
        if (field && field.required) {
            label.innerHTML += ' <span style="color: var(--error-color);" title="Campo obrigat√≥rio">*</span>';
        }
    });

    // Inicializar quando o DOM carregar
    document.addEventListener('DOMContentLoaded', function() {
        initSkillsSelection();
        createClearSkillsButton();
        updateSkillsCounter(); // Inicializar o contador
    });
</script>
</body>
</html>